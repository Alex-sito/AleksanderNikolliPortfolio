
<form
  [formGroup]="form"
  (ngSubmit)="submit()"
  class="contact-form">

  <!-- NOME -->
  <mat-form-field appearance="outline">
    <mat-label i18n>Nome</mat-label>
    <input matInput formControlName="nome" />

    <mat-error *ngIf="form.get('nome')?.hasError('required')" i18n>
      Il nome è obbligatorio
    </mat-error>

    <mat-error *ngIf="form.get('nome')?.hasError('minlength')" i18n>
      Il nome deve contenere almeno 2 caratteri
    </mat-error>
  </mat-form-field>

  <!-- EMAIL -->
  <mat-form-field appearance="outline" class="full-width">
    <mat-label i18n>Email</mat-label>
    <input matInput type="email" formControlName="email" />

    <mat-error *ngIf="form.get('email')?.hasError('required')" i18n>
      L’email è obbligatoria
    </mat-error>

    <mat-error *ngIf="form.get('email')?.hasError('email')" i18n>
      Inserisci un’email valida
    </mat-error>
  </mat-form-field>

  <!-- CELLULARE -->
  <mat-form-field appearance="outline" class="full-width">
    <mat-label i18n>Cellulare</mat-label>
    <input matInput formControlName="cellulare" />

    <mat-error *ngIf="form.get('cellulare')?.hasError('required')" i18n>
      Il cellulare è obbligatorio
    </mat-error>
  </mat-form-field>

  <!-- MESSAGGIO -->
  <mat-form-field appearance="outline" class="full-width">
    <mat-label i18n>Messaggio</mat-label>
    <textarea
      matInput
      rows="5"
      formControlName="messaggio">
    </textarea>

    <mat-error *ngIf="form.get('messaggio')?.hasError('required')" i18n>
      Il messaggio è obbligatorio
    </mat-error>

    <mat-error *ngIf="form.get('messaggio')?.hasError('minlength')" i18n>
      Il messaggio deve contenere almeno 10 caratteri
    </mat-error>
  </mat-form-field>

  <!-- BOTTONE -->
  <button
    mat-raised-button
    color="primary"
    type="submit"
    [disabled]="loading"
    class="submit-btn">
    {{ loading ? loadingLabel : submitLabel }}
  </button>

  <!-- FEEDBACK -->
  <p *ngIf="success" class="success" i18n>
    Messaggio inviato correttamente ✔
  </p>

  <p *ngIf="error" class="error">
    {{ error }}
  </p>

</form>

